#### 计算机组成原理实验

##### 实验一 -- 实验环境的安装和搭建

1.首先创建工程文件夹 ， 命名为LABxxxx的形式

2.创建工程实体，最好具有一定的电路表意性 , 如 ： or2in(表示两个输入的或门)

3.选择实际应用的芯片型号和FPGA板型号

4.开始设计实际的电路图 ，可以采用画图然后相连的方法

 <1>创建一个或门: symbol -> primitive -> logic -> orin

 <2>创建引脚端 : 双击 -> primitive -> pin -> input/output 或 菜单中有pin -> input/output

 <3>跟思维导图相同的方式连接所有的电路(按住左键然后拖拽)

 <4>保存到LABxxxx文件下面

5.为引脚进行命名然后保存

6.对电路图进行编译（就是将bdf文件转换成vhdl文件）

7.删除工程文件中的bdf文件 Project -> add/remove .. -> add all , 把刚才编译后的文件加入，然后将原来的bdf文件删除

8.对整个工程再次进行编译（目的是为了检查是否有语法错误  ， 和生成目标格式）

Processing -> start compile (保证 0 errors 即可 )

9.硬件引脚分配

sw0 -> PIN_AC12 

sw1 -> PIN_AB12

led0 -> PIN_V16

方法：Assignment -> pin_planner 

![image-20240415192000481](C:\Users\ROG\AppData\Roaming\Typora\typora-user-images\image-20240415192000481.png)

此处选择上面指定的引脚即可

10.将没有使用的引脚定义为一个三态

Assignment -> Device -> Unused Pins -> As input tri-stated

11.再次进行编译(此时是已经完成了电路的设计 ，以及虚拟电路到实体电路的一个映射) (保证 0 errors即可)

12.在烧录板子之前可以对设计的电路进行仿真（防止设计出现错误）

 <1> 打开仿真软件 Tools -> Run Simulation Tool -> Run simulation

 <2>设置仿真软件工作目录 , 设置为项目文件下的simulation

 <3>将vhd文件拷到simulation/modleism工作文件目录下

 <4>在modlesim软件中对文件进行编译 Compile -> compile

 <5>创建输入信号指定波形的文件 创建.do类型文件设置输入波形，文件中是某种语言来控制输入信号的形式

 <6>开始仿真 simulation -> start simulation -> 指定输入波形文件

 <7>将输入输出引脚拖入波形观察框之中

![expe01](E:\作业\web作业截图\expe01.png)



在下方输入命令do or2in.do 文件指定输入

在波形处右键 -> full

13.烧录程序

<1>将FPGA板连接电源和电脑

<2>在PC上安装对应FPGA板的驱动

<3>Tools -> Programmer -> 

![](E:\Typora笔记\计算机组成原理笔记\计算机组成原理实验.assets\image-20240416104336360.png)

注意这一步要将FPGA板连接到电脑才有效

<4>Autodetect -> 5CSEMA5 

<5>Change file -> output -> or2in.sof -> Open

<6>勾选Program/Configure 复选框(output_files/or2in) -> start(到这一步程序已经烧录完成)



##### 关闭之后再打开工程操作

当关闭Quartus再打开就File -> Open project wizard -> 打开文件夹中的.qpf文件

##### 出现无法打开仿真软件的问题

可能是将hdl删去了，其实是应该将原理图删去 ， 因为仿真软件只能仿真hdl文件

重新file -> create / update -> create hdl design  file from current file 来生成一个同名的hdl文件 ， 然后将原理图删去即可仿真





